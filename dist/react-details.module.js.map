{"version":3,"file":"react-details.module.js","sources":["../index.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Details({\r\n    summaryContent,\r\n    open = false,\r\n    onToggle = () => {},\r\n    styles = {\r\n        details: '__react-details',\r\n        summary: '__react-details-summary'\r\n    },\r\n    children,\r\n    ...rest\r\n}) {\r\n    const detailsRef = useRef(null);\r\n    const [isOpen, setIsOpen] = useState(open);\r\n\r\n    useEffect(() => {\r\n        if (!detailsRef) {\r\n            return;\r\n        }\r\n\r\n        const toggle = () => {\r\n            const toggle = detailsRef.current.open;\r\n\r\n            setIsOpen(toggle);\r\n            onToggle(toggle);\r\n        };\r\n\r\n        detailsRef.current.addEventListener('toggle', toggle);\r\n\r\n        return () =>\r\n            detailsRef.current.removeEventListener('toggle', toggle, false);\r\n    }, [detailsRef, onToggle]);\r\n\r\n    if (!children) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <details\r\n            className={styles.details}\r\n            open={isOpen}\r\n            ref={detailsRef}\r\n            {...rest}\r\n        >\r\n            {summaryContent && (\r\n                <summary className={styles.summary}>{summaryContent}</summary>\r\n            )}\r\n\r\n            {isOpen && children}\r\n        </details>\r\n    );\r\n}\r\n\r\nDetails.propTypes = {\r\n    summaryContent: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n    open: PropTypes.bool,\r\n    onToggle: PropTypes.func,\r\n    children: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\r\n        .isRequired\r\n};\r\n"],"names":["Details","summaryContent","open","onToggle","styles","details","summary","children","rest","detailsRef","useRef","useState","isOpen","setIsOpen","useEffect","toggle","current","addEventListener","removeEventListener","React","className","ref","propTypes","PropTypes","oneOfType","string","object","bool","func","isRequired"],"mappings":"iTAGwBA,SACpBC,IAAAA,mBACAC,KAAAA,oBACAC,SAAAA,aAAW,mBACXC,OAAAA,aAAS,CACLC,QAAS,kBACTC,QAAS,6BAEbC,IAAAA,SACGC,iMAEGC,EAAaC,EAAO,QACEC,EAAST,GAA9BU,OAAQC,OAoBf,OAlBAC,EAAU,WACN,GAAKL,EAAL,CAIA,IAAMM,EAAS,WACX,IAAMA,EAASN,EAAWO,QAAQd,KAElCW,EAAUE,GACVZ,EAASY,IAKb,OAFAN,EAAWO,QAAQC,iBAAiB,SAAUF,qBAG1CN,EAAWO,QAAQE,oBAAoB,SAAUH,GAAQ,MAC9D,CAACN,EAAYN,IAEXI,EAKDY,6BACIC,UAAWhB,EAAOC,QAClBH,KAAMU,EACNS,IAAKZ,GACDD,GAEHP,GACGkB,2BAASC,UAAWhB,EAAOE,SAAUL,GAGxCW,GAAUL,QAKvBP,EAAQsB,UAAY,CAChBrB,eAAgBsB,EAAUC,UAAU,CAACD,EAAUE,OAAQF,EAAUG,SACjExB,KAAMqB,EAAUI,KAChBxB,SAAUoB,EAAUK,KACpBrB,SAAUgB,EAAUC,UAAU,CAACD,EAAUE,OAAQF,EAAUG,SACtDG"}